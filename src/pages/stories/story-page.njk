---
pagination: 
    data: collections.stories
    size: 1
    alias: story
    addAllPagesToCollections: true
layout: layouts/base-layout.njk
permalink: /{{story.slug}}/
og_type: "article"
eleventyComputed:
    title: "{{ story.name | truncate(150) }} "
    thumbnail: "{{meta.site_url}}/images/og-images/og-{{ story.slugs }}.png"
    emojicon: "{{ story.icon }}"
    description: "{{story.excerpt}}"
    eleventyNavigation:
        key: "{{story.id}}"
        title: "{{story.name}}"
        parent: Findings
---

{% extends "layouts/story-layout.njk" %}
{% set story_contribution_url = contribute.tally_url+"?slugs="+story.slugs+"&title="+story.name+"&category="+story.category.name %}
{# <figure>
                        {{ meta.site_url| qrcode | safe }}
                        <figcaption class="visually-hidden">Share link</figcaption>
                    </figure> #}
{% block article %}
    <header aria-labelledby="story-name" data-layout="stack" id="cover" data-props="space:m x:start">
        {% if emojicon %}
            <span data-heading="3" aria-hidden="true" data-font="emoji">{{ emojicon }}</span>
        {% endif %}
        <h1 itemprop="headline" id="story-name" data-heading="1" data-props="centered noBorder noMeasure">
            {{ story.name }}
        </h1>
        <div data-layout="cluster">
            <p>
                <span aria-hidden="true" data-font="emoji">üìÖ</span>
                Created on
                <time itemprop="datePublished" datetime="{{ story.created }}">{{ story.created | readableDate }}</time>
            </p>
            <p>
                <span aria-hidden="true" data-font="emoji">üîÅ</span>
                Last update on
                <time itemprop="dateModified" datetime="{{ story.edited }}">{{ story.edited | readableDate }}</time>
            </p>
            <p>
                <span aria-hidden="true" data-font="emoji">üî∞</span>
                Categorized under
                <a href="/categories/{{ story.category.name | slugify }}" data-button="tag small">{{ story.category.name }}</a>
            </p>
            <link itemprop="thumbnailUrl" href="{{ thumbnail }}"/> {% set type = story.type.name %}
        </div>
        {% if type == "Insight" %}
            <div data-layout="box" data-props="noPad">
                <header data-layout="box" data-props="noBorder invert">
                    <span data-heading="6">
                        <span data-font="emoji" aria-hidden="true">üî≠</span>
                        Finding  marked as Insight
                    </span>
                </header>
                <div data-layout="box" data-props="noBorder">
                    <p>
                    Currently this finding does not include enough research based references. You can help improve its reliability in the
                        <a href="#contribute">contribution section</a>
                    </p>
                </div>
            </div>
        {% endif %}
        <meta itemprop="description" content="{{ story.excerpt }}"/>
        <meta itemprop="teaches" content="{{ story.category.name }}"/>
    </header>
    <section aria-labelledby="summary">
        <div data-layout="stack" data-props="space:xs">
            <h2 id="summary" data-heading="2 anchor">
                <a href="#summary">Overview</a>
            </h2>
            <div itemprop="articleBody" data-layout="stack" data-markdown>
                {% renderTemplate "md, liquid", story %}
                {{ description }}
                {% endrenderTemplate %}
            </div>
        </div>
    </section>
    <section aria-labelledby="references">
        <div data-layout="stack" data-props="space:xs">
            <h2 id="references" data-heading="anchor">
                <a href="#references">References</a>
            </h2>
            <p>Here you can find a list of references to dive deeper on the subject.</p>
            <ul data-layout="stack">
                {%- for reference in story.references %}
                    {% include "partials/reference-item.njk" %}
                {% endfor -%}
            </ul>
        </div>
    </section>
    <section aria-labelledby="contribute">
        <div data-layout="stack" data-props="x:start space:xs">
            <h2 id="contribute" data-heading="anchor">
                <a href="#contribute">Contribution</a>
            </h2>
            <div data-layout="box" data-props="noPad">
                <header data-layout="box" data-props="noBorder invert">
                    <h3 data-heading="5">
                        <span data-font="emoji" aria-hidden="true">üó®</span>
                        Help improve this entry
                    </h3>
                </header>
                <div data-layout="box stack" data-props="noBorder">
                    <p>
                        Please share ideas, suggestions, or comments here 
                    </p>
                    <div data-layout="switcher" data-props="x:stretch" style="--threshold: var(--measure);">
                        <a data-button="outline" data-props="x:center" href="{{ story_contribution_url }}" target="_blank">
                            Submit an idea</a>
                        <a
                            data-button="outline"
                            data-props="x:center"
                            href="https://twitter.com/intent/tweet?text={{ story.name }}%20via%20@FrontendStories&url={{ meta.site_url }}{{ page.url }}"
                            target="_blank">
                            Mention on Twitter</a>
                    </div>
                </div>
            </div>
        </div>
                        {# <a
                            data-button="outline"
                            data-props="x:center"
                            href="mailto:{{ meta.author.email }}?subject=[FS Contribution] {{ story.name }}">
                            Email me</a> #}
    </section>
        <hr  />
    <section aria-label="Navigate" data-layout="stack">
        <h2 data-heading="6" id="pagination-nav" data-props="space:s">Navigate to other findings</h2>
        <nav
            class="story-pagination-navigation"
            aria-labelledby="pagination-nav"
            data-layout="switcher"
            data-props="x:between y:stretch">
            {% if pagination.href.previous %}
                <a data-button data-layout="stack" class="previous-button" data-props="space:0 x:start y:start" href="{{ pagination.href.previous }}">
                    <span>
                        <span aria-hidden="true" data-font="emoji">‚óÄÔ∏è</span>
                        Previous item</span>
                    <b>{{ pagination.page.previous.name }}</b>
                </a>
            {% endif %}
            {% if pagination.href.next %}
                <a data-layout="stack" class="next-button" data-button data-props="space:0 x:start y:end" href="{{ pagination.href.next }}">
                        <span>
                            Next item
                        <span aria-hidden="true" data-font="emoji">‚ñ∂Ô∏è</span>
                        </span>
                    <b>{{ pagination.page.next.name }}</b>
                </a>
            {% endif %}
        </nav>
    </section>
{% endblock %}